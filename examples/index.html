<!doctype>
<html lang="en">
<head>
    <link rel="stylesheet" href="http://openlayers.org/en/v3.1.1/css/ol.css" type="text/css">
    <style>
        .map {
            height: 400px;
            width: 100%;
        }
    </style>
    <script src="http://openlayers.org/en/v3.1.1/build/ol.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3"></script>
    <script type="text/javascript" src="http://116.240.195.134/vicmapapi/js/vicmapapi.js"></script>
    <title>OpenLayers 3 example</title>
</head>
<body>
<h2>My Map</h2>

<div id="map" class="map">
</div>
<div id="gmap" class="map">
</div>
<script type="text/javascript">
    var gmap = new google.maps.Map(document.getElementById('gmap'), {
        disableDefaultUI: true,
        keyboardShortcuts: false,
        draggable: false,
        disableDoubleClickZoom: true,
        scrollwheel: false,
        streetViewControl: false
    });

    var view = new ol.View({
        // make sure the view doesn't go beyond the 22 zoom levels of Google Maps
        maxZoom: 21
    });
    view.on('change:center', function () {
        var center = ol.proj.transform(view.getCenter(), 'EPSG:3857', 'EPSG:4326');
        gmap.setCenter(new google.maps.LatLng(center[1], center[0]));
    });
    view.on('change:resolution', function () {
        gmap.setZoom(view.getZoom());
    });

    var vector = new ol.layer.Vector({
        source: new ol.source.GeoJSON({
            url: 'farm-coordinates.json',
            projection: 'EPSG:4283'
        }),
        style: new ol.style.Style({
            fill: new ol.style.Fill({
                color: 'rgba(255, 255, 255, 0.6)'
            }),
            stroke: new ol.style.Stroke({
                color: '#319FD3',
                width: 1
            })
        })
    });

    var olMapDiv = document.getElementById('map');
    var map = new ol.Map({
        layers: [vector],
        interactions: ol.interaction.defaults({
            altShiftDragRotate: false,
            dragPan: false,
            rotate: false
        }).extend([new ol.interaction.DragPan({kinetic: null})]),
        target: olMapDiv,
        view: view
    });

    olMapDiv.parentNode.removeChild(olMapDiv);
    gmap.controls[google.maps.ControlPosition.TOP_LEFT].push(olMapDiv);

</script>
</body>
</html>