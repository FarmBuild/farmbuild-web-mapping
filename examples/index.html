<!DOCTYPE html>
<html ng-app="farmbuild.webmapping.examples">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FarmBuild Web Mapping</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body ng-controller="FarmCtrl">
<content>
    <modal ng-if="noResult" ng-include="'modal-validation-error/modal-validation-error.tpl.html'"></modal>
    <h3>
        FarmBuild Web Mapping
        <small>(angularJS)</small>
    </h3>
    <hr/>

    <form ng-submit="createNew(farmNew)"
          role="form"
          novalidate>
        <fieldset>
            <legend>
                Create new FarmData
            </legend>

            <form-item class="form-group col-md-6">
                <label>Name *</label>
                <input name="name" ng-model="farmNew.name"
                       class="form-control"
                       required>
            </form-item>

            <form-item class="form-group col-md-6">
                <label>ID (external reference for this farm)</label>
                <input name="id" ng-model="farmNew.id" class="form-control">
            </form-item>

            <form-item class="form-group col-md-6">
              <label>Projection (CRS) *</label>
              <select ng-options="item.name as item.label for item in crsSupported"
                      ng-model="farmNew.crs"
                      class="form-control">
              </select>
            </form-item>

            <buttons class="col-md-12">
                <button type="submit" class="btn btn-primary">Create</button>
            </buttons>
        </fieldset>
    </form>
    <form role="form" name="form" novalidate>
        <hr/>
        <h4>
            Load FarmData to update the farm boundary or paddocks
        </h4>

        <form-item class="form-group col-sm-12">
            <label>Please select your farm data</label>
            <input id="loadFile" name="farmData" type="file" on-read-file="loadFarmData($fileContent)" class="form-control">
        </form-item>
        <buttons class="col-md-12" ng-if="farmData.name">
            <button class="btn btn-primary" ng-click="calculate()">Load</button>
            <a type="button" class="btn btn-primary" ng-click="exportFarmData(farmData)" ng-disabled="!farmData.name">Export
                farm data</a>
            <button class="btn btn-primary" ng-click="clear()">Clear session</button>
        </buttons>

        <div class="clearfix"></div>
    </form>

    <empty-message ng-if="!noResult"><i class="fa fa-warning icon"></i>
        Provide a farm data to see the map.
    </empty-message>

    <summary ng-if="farmData.name">
    </summary>
    <version>
        Version: <span ng-bind="appVersion"></span>
    </version>
</content>

<script src="../dist/ol/ol-debug.js" type="text/javascript"></script>
<script src="../dist/proj4/proj4.js"></script>

<script src="../dist/farmbuild-core.js"></script>
<script src="../dist/farmbuild-farmdata.js"></script>
<script src="../dist/farmbuild-webmapping.js"></script>
<script src="config.js"></script>
<script src="index.js"></script>
<!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    var GA_TRACKING_CODE = 'UA-53478356-1';

    ga('create', GA_TRACKING_CODE, 'auto');
</script>


</body>
</html>