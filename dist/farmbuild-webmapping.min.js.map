{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","webmappingValidator","webmappingConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingPaddocks","webMappingOpenLayersHelper","webMappingGoogleAddressSearch","info","session","isDefined","webMapping","validator","toGeoJsons","actions","paddocks","olHelper","googleAddressSearch","load","find","save","geoJsons","farmData","toFarmData","export","create","version","window","farmbuild","webmapping","convertCrs","geometry","crs","type","properties","name","resetCrs","createFeature","copy","copied","validate","undefined","farm","forEach","paddock","push","features","farmFeature","paddockFeature","i","_create","map","farmSource","paddocksSource","_init","clipFn","selectInteraction","addInteraction","drawInteraction","setActive","on","e","feature","setProperties","setTimeout","removeFeature","drawingStatus","event","interaction","getFeatures","clear","_enable","_disable","_finish","finishDrawing","_isDrawing","_discard","ol","Draw","source","init","enable","disable","isDrawing","finish","discard","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingTransformations","_destroy","getInteractions","DragPan","kinetic","_select","_modify","_draw","_snap","_activeLayer","_activeLayerName","_mode","farmLayer","paddocksLayer","activeLayerName","multi","_isDefined","getSource","_clip","_addGeoJsonFeature","layer","addFeature","Feature","geom","coordinates","_clearSelections","_remove","deselect","featureToClip","paddockSource","_clipPaddocks","_clipDonut","_clipFarm","clipped","paddocksFeatures","farmFeatures","getProperties","transform","erase","intersect","donutFeature","getFeaturesAtCoordinate","turf","merge","_merge","_selectedFeatures","_enableEditing","_enableDrawing","_enableDonutDrawing","_finishDrawing","_discardDrawing","_isEditing","getLength","destroy","enableDrawing","enableEditing","enableDonutDrawing","clip","remove","selectedFeatures","isEditing","discardDrawing","select","modifyInteraction","Modify","selectConfig","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","Select","snapInteraction","Snap","_featuresToGeoJson","olFeatures","fromJson","getArray","_geoJSONFormat","writeFeatures","_area","geoJsonFeatures","area","format","_transform","latLng","sourceProjection","destinationProjection","transformed","proj","google","maps","LatLng","_exportGeometry","error","_clear","_integrateGMap","gmap","dataProjection","view","getView","targetElement","getTargetElement","googleProjection","center","getCenter","setCenter","setZoom","getZoom","onresize","trigger","defaults","centerNew","zoomNew","extent","getLayers","item","getExtent","Infinity","controls","ControlPosition","TOP_LEFT","parentNode","removeChild","fitExtent","getSize","_center","_paddocksLayer","paddocksGeometry","featureProjection","Vector","GeoJSON","readFeatures","style","Style","fill","Fill","color","stroke","Stroke","width","_farmLayer","farmGeometry","exportGeometry","integrateGMap","_findByCoordinate","coordinate","vectorLayer","length","findByCoordinate","supported","crsSupported","proj4","defs","projection","loaded","update","isLoadFlagSet","document","_featureToGeoJson","olFeature","writeFeature","_erase","layerFeature","clipper","_intersect","toMerge","isGeoJsons","errors","geojsonhint","hint","toJson","isGeoJson","_validate","isArray","isPositiveNumber","isEmpty","Error","targetElementId","openLayersProjection","olmap","autocomplete","places","Autocomplete","getElementById","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","lng","lat","googleMapProjection","centerPoint","country","run","injector"],"mappings":"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"}