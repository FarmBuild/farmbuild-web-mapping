{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","geoJsonValidator","farmdataConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingMeasurement","webMappingPaddocks","webMappingOpenLayersHelper","webMappingGoogleAddressSearch","webMappingGoogleAnalytics","webMappingParcels","info","session","isDefined","webMapping","validator","toGeoJsons","actions","paddocks","olHelper","googleAddressSearch","ga","parcels","load","find","save","geoJsons","farmData","export","create","version","window","farmbuild","webmapping","googleAnalytics","api","trackWebMapping","clientName","track","$rootScope","_create","map","farmSource","paddocksSource","_init","clipFn","selectInteraction","addInteraction","drawInteraction","setActive","on","e","feature","setTimeout","removeFeature","drawingStatus","$broadcast","event","interaction","getFeatures","clear","_enable","_disable","_finish","finishDrawing","_isDrawing","_discard","ol","Draw","source","type","init","enable","disable","isDrawing","finish","discard","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingMeasureInteraction","webMappingTransformation","_destroy","_isDefined","_select","_modify","_snap","_draw","_measure","removeInteraction","undefined","_activeLayer","_activeLayerName","_mode","farmLayer","paddocksLayer","activeLayerName","multi","getSource","_clip","_addFeature","layer","name","id","Date","getTime","setProperties","_id","addFeature","_clearSelections","_removeFeatures","features","deselect","forEach","featureToClip","paddockSource","_clipPaddocks","_clipDonut","_clipFarm","getGeometry","getExtent","Infinity","clipped","paddocksFeatures","farmFeatures","getProperties","_transform","eraseAll","intersect","donutFeature","paddockFeature","getFeaturesInExtent","erase","merge","_merge","_selectedFeatures","_enableEditing","_enableDrawing","_enableDonutDrawing","_measureLength","_measureArea","_finishDrawing","_discardDrawing","_isEditing","getLength","destroy","enableDrawing","enableEditing","enableDonutDrawing","isEditing","discardDrawing","measureLength","measureArea","clip","remove","selectedFeatures","onPointerMove","evt","dragging","sketch","_value","_type","_measurement","area","length","_getValue","Vector","style","Style","fill","Fill","color","stroke","Stroke","lineDash","width","image","Circle","radius","this","getValue","select","modifyInteraction","Modify","selectConfig","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","Select","snapInteraction","Snap","_areas","turf","_area","getArea","_length","areas","latLng","sourceProjection","destinationProjection","transformed","proj","transform","google","maps","LatLng","_exportGeometry","dataProjection","featureProjection","format","result","writeFeaturesObject","geometry","crs","properties","error","_clear","_integrateGMap","gmap","view","getView","targetElement","getTargetElement","googleProjection","center","getCenter","setCenter","setZoom","getZoom","onresize","trigger","defaults","centerNew","zoomNew","extent","getLayers","item","controls","ControlPosition","TOP_LEFT","push","parentNode","removeChild","fitExtent","getSize","_center","coordinates","_paddocksLayer","paddocksGeometry","GeoJSON","readFeatures","_farmLayer","farmGeometry","_reload","geoJson","dataProjectionCode","featureProjectionCode","addLayer","farm","_openLayerFeatureToGeoJson","olFeature","_geoJSONFormat","writeFeatureObject","_openLayerFeaturesToGeoJson","olFeatures","_geoJsonToOpenLayerFeature","readFeature","_geoJsonToOpenLayerFeatures","exportGeometry","integrateGMap","reload","featureToGeoJson","featuresToGeoJson","geoJsonToFeature","geoJsonToFeatures","_findByCoordinate","coordinate","vectorLayer","found","getFeaturesAtCoordinate","findByCoordinate","loadFeatures","data","console","log","$http","_load","serviceUrl","resultProjection","config","params","service","request","typeName","maxFeatures","outputFormat","format_options","srsname","bbox","join","method","url","success","status","supported","crsSupported","proj4","defs","projection","loaded","isLoadFlagSet","document","_eraseAll","clipee","clippers","clipeeGeoJson","clipper","clipperGeoJson","_erase","cliperGeoJson","_intersect","olFeature1","olFeature2","intersection","feature1","feature2","toMerge","targetElementId","openLayersProjection","olmap","autocomplete","places","Autocomplete","getElementById","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","lng","lat","googleMapProjection","centerPoint","country","run"],"mappings":"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"}