{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","geoJsonValidator","farmdataConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingMeasurement","webMappingPaddocks","webMappingOpenLayersHelper","webMappingGoogleAddressSearch","webMappingGoogleAnalytics","webMappingParcels","info","session","isDefined","webMapping","validator","toGeoJsons","actions","paddocks","olHelper","ga","parcels","measurement","load","find","save","geoJsons","farmData","export","create","version","window","farmbuild","webmapping","$rootScope","_create","map","farmSource","paddocksSource","_init","clipFn","selectInteraction","addInteraction","drawInteraction","setActive","on","e","feature","setTimeout","removeFeature","drawingStatus","$broadcast","event","interaction","getFeatures","clear","_enable","_disable","_finish","finishDrawing","_isDrawing","_discard","ol","Draw","source","type","init","enable","disable","isDrawing","finish","discard","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingTransformation","_destroy","_isDefined","_select","_modify","_snap","_draw","removeInteraction","destroy","undefined","_activeLayer","_activeLayerName","_mode","farmLayer","paddocksLayer","activeLayerName","multi","_farmLayer","_paddocksLayer","_map","_farmName","getSource","getProperties","name","_clip","_addFeature","layer","id","Date","getTime","setProperties","_id","addFeature","_clearSelections","_removeFeatures","features","deselect","forEach","featureToClip","paddockSource","_clipPaddocks","_clipDonut","_clipFarm","getGeometry","getExtent","Infinity","error","clipped","paddocksFeatures","farmFeatures","_transform","eraseAll","intersect","donutFeature","paddockFeature","getFeaturesInExtent","erase","merge","_merge","_selectedFeatures","_enableEditing","_enableDrawing","_enableDonutDrawing","_snapParcels","addFeatures","_finishDrawing","_discardDrawing","_isEditing","getLength","_enableKeyboardShortcuts","elementId","onKeyDown","selectedFeatures","keyCode","preventDefault","stopPropagation","item","element","document","getElementById","getTargetElement","addEventListener","$on","data","enableDrawing","enableEditing","enableDonutDrawing","isEditing","discardDrawing","clip","remove","snapParcels","enableKeyboardShortcuts","_measureControl","button","createElement","innerHTML","letter","handleMeasure","getActive","className","baseCssClass","cssClass","appendChild","control","Control","call","this","target","options","Vector","style","Style","fill","Fill","color","stroke","Stroke","lineDash","width","image","Circle","radius","evt","value","_measurement","area","unit","length","getElementsByClassName","inherits","select","modifyInteraction","Modify","selectConfig","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","Select","snapInteraction","_addFeatures","parcel","snapVisibleLayer","removeLayer","Snap","addLayer","_openLayerFeatureToGeoJson","olFeature","dataProjection","featureProjection","_geoJSONFormat","writeFeatureObject","_areas","turf","_area","_length","lineDistance","format","areas","webMappingMeasureInteraction","_transformToGoogleLatLng","latLng","destinationProjection","transformed","proj","transform","_googleProjection","google","maps","LatLng","_transformFromGoogleLatLng","lng","lat","_openLayersDefaultProjection","_exportGeometry","result","writeFeaturesObject","geometry","crs","properties","_clear","addControls","addControl","ZoomToExtent","extent","getLayers","ScaleLine","_integrateGMap","gmap","view","getView","targetElement","center","getCenter","setCenter","setZoom","getZoom","onresize","trigger","defaults","centerNew","zoomNew","controls","ControlPosition","TOP_LEFT","push","parentNode","removeChild","fitExtent","getSize","_center","coordinates","paddocksGeometry","GeoJSON","readFeatures","farmGeometry","_reload","geoJson","dataProjectionCode","featureProjectionCode","farm","_openLayerFeaturesToGeoJson","olFeatures","_geoJsonToOpenLayerFeature","readFeature","_geoJsonToOpenLayerFeatures","_initAddressSearch","targetElementId","olmap","onPlaceChanged","exportGeometry","integrateGMap","reload","featureToGeoJson","featuresToGeoJson","geoJsonToFeature","geoJsonToFeatures","transformFromGoogleLatLng","transformToGoogleLatLng","initAddressSearch","_findByCoordinate","coordinate","vectorLayer","found","getFeaturesAtCoordinate","findByCoordinate","$http","_load","serviceUrl","extentDataProjection","responseProjection","config","params","service","request","typeName","outputFormat","format_options","srsname","bbox","join","method","url","success","status","supported","crsSupported","proj4","defs","projection","loaded","isLoadFlagSet","_eraseAll","clipee","clippers","clipeeGeoJson","clipper","clipperGeoJson","_erase","cliperGeoJson","_intersect","olFeature1","olFeature2","intersection","feature1","feature2","toMerge","onPlaceChangedCallback","places","autocomplete","Autocomplete","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","country","googleAnalytics","_trackWebMapping","clientName","track","api","trackWebMapping","run"],"mappings":"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"}