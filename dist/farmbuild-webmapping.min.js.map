{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","webmappingValidator","webmappingConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingPaddocks","webMappingOpenLayersHelper","webMappingGoogleAddressSearch","_exportFarmData","toExport","_toFarmData","undefined","info","session","isDefined","webmapping","validator","toGeoJsons","actions","paddocks","olHelper","googleAddressSearch","load","find","save","geoJsons","farmData","toFarmData","export","create","exportFarmData","version","window","farmbuild","convertCrs","geometry","crs","type","properties","name","resetCrs","createFeature","copy","copied","validate","farm","forEach","paddock","push","features","farmFeature","paddockFeature","i","_create","map","farmSource","paddocksSource","_init","clipFn","selectInteraction","addInteraction","drawInteraction","setActive","on","e","feature","setTimeout","removeFeature","drawingStatus","event","interaction","getFeatures","clear","_enable","_disable","_isDrawing","ol","Draw","source","init","enable","disable","isDrawing","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingTransformations","_destroy","getInteractions","DragPan","kinetic","_select","_modify","_draw","_snap","_activeLayer","_activeLayerName","_mode","farmLayer","paddocksLayer","activeLayerName","multi","_isDefined","getSource","_clip","_addGeoJsonFeature","layer","addFeature","Feature","geom","coordinates","_clearSelections","_remove","deselect","featureToClip","paddockSource","_clipPaddocks","_clipDonut","_clipFarm","clipped","paddocksFeatures","farmFeatures","transform","erase","intersect","donutFeature","getFeaturesAtCoordinate","turf","merge","_merge","_selectedFeatures","_enableEditing","_enableDrawing","_enableDonutDrawing","_isEditing","getLength","destroy","enableDrawing","enableEditing","enableDonutDrawing","clip","remove","selectedFeatures","isEditing","select","modifyInteraction","Modify","selectConfig","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","Select","snapInteraction","Snap","_featuresToGeoJson","olFeatures","fromJson","getArray","_geoJSONFormat","writeFeatures","_area","geoJsonFeatures","area","format","_transform","latLng","sourceProjection","destinationProjection","transformed","proj","google","maps","LatLng","_exportGeometry","error","_clear","_integrateGMap","gmap","dataProjection","view","getView","targetElement","getTargetElement","googleProjection","center","getCenter","setCenter","setZoom","getZoom","onresize","trigger","defaults","centerNew","zoomNew","extent","getLayers","item","getExtent","Infinity","controls","ControlPosition","TOP_LEFT","parentNode","removeChild","fitExtent","getSize","_center","_paddocksLayer","paddocksGeometry","featureProjection","Vector","GeoJSON","readFeatures","style","Style","fill","Fill","color","stroke","Stroke","width","_farmLayer","farmGeometry","exportGeometry","integrateGMap","collections","_add","_edit","_find","_validate","add","edit","supported","crsSupported","proj4","defs","projection","loaded","update","isLoadFlagSet","document","_featureToGeoJson","olFeature","writeFeature","_erase","layerFeature","clipper","_intersect","toMerge","isGeoJsons","errors","geojsonhint","hint","toJson","isGeoJson","length","isArray","isPositiveNumber","isEmpty","Error","targetElementId","openLayersProjection","olmap","autocomplete","places","Autocomplete","getElementById","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","lng","lat","googleMapProjection","centerPoint","country","run","injector"],"mappings":"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"}