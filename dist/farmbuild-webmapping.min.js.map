{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","geoJsonValidator","farmdataConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingPaddocks","webMappingOpenLayersHelper","webMappingGoogleAddressSearch","webMappingGoogleAnalytics","webMappingParcels","info","session","isDefined","webMapping","validator","toGeoJsons","actions","paddocks","olHelper","googleAddressSearch","ga","parcels","load","find","save","geoJsons","farmData","toFarmData","export","create","version","window","farmbuild","webmapping","googleAnalytics","api","trackWebMapping","clientName","track","_create","map","farmSource","paddocksSource","_init","clipFn","selectInteraction","addInteraction","drawInteraction","setActive","on","e","feature","setTimeout","removeFeature","drawingStatus","event","interaction","getFeatures","clear","_enable","_disable","_finish","finishDrawing","_isDrawing","_discard","ol","Draw","source","type","init","enable","disable","isDrawing","finish","discard","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingTransformation","_destroy","_isDefined","_select","_modify","_snap","_draw","removeInteraction","undefined","_activeLayer","_activeLayerName","_mode","farmLayer","paddocksLayer","activeLayerName","multi","getSource","_clip","_addFeature","layer","name","setProperties","addFeature","_clearSelections","_removeFeatures","features","deselect","forEach","featureToClip","paddockSource","_clipPaddocks","_clipDonut","_clipFarm","getGeometry","getExtent","Infinity","clipped","paddocksFeatures","farmFeatures","getProperties","Date","getTime","transform","eraseAll","intersect","donutFeature","paddockFeature","getFeaturesInExtent","erase","merge","_merge","_selectedFeatures","_enableEditing","_enableDrawing","_enableDonutDrawing","_finishDrawing","_discardDrawing","_isEditing","getLength","destroy","enableDrawing","enableEditing","enableDonutDrawing","clip","remove","selectedFeatures","isEditing","discardDrawing","select","modifyInteraction","Modify","selectConfig","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","Select","snapInteraction","Snap","_area","turf","area","_measure","createHelpTooltip","helpTooltipElement","parentNode","removeChild","document","createElement","className","helpTooltip","Overlay","element","offset","positioning","addOverlay","createMeasureTooltip","measureTooltipElement","measureTooltip","sketch","draw","continuePolygonMsg","continueLineMsg","pointerMoveHandler","evt","dragging","helpMsg","tooltipCoord","coordinate","formatLength","line","length","Math","round","output","console","log","formatArea","polygon","getArea","geom","Polygon","getInteriorPoint","getCoordinates","LineString","getLastCoordinate","innerHTML","setPosition","Vector","style","Style","fill","Fill","color","stroke","Stroke","width","image","Circle","radius","lineDash","this","setOffset","format","measure","_transform","latLng","sourceProjection","destinationProjection","transformed","proj","google","maps","LatLng","_exportGeometry","dataProjection","featureProjection","result","writeFeaturesObject","geometry","crs","properties","error","_clear","_integrateGMap","gmap","view","getView","targetElement","getTargetElement","googleProjection","center","getCenter","setCenter","setZoom","getZoom","onresize","trigger","defaults","centerNew","zoomNew","extent","getLayers","item","controls","ControlPosition","TOP_LEFT","push","fitExtent","getSize","_center","coordinates","_paddocksLayer","paddocksGeometry","GeoJSON","readFeatures","_farmLayer","farmGeometry","_reload","geoJson","dataProjectionCode","featureProjectionCode","addLayer","farm","_openLayerFeatureToGeoJson","olFeature","_geoJSONFormat","writeFeatureObject","_openLayerFeaturesToGeoJson","olFeatures","_geoJsonToOpenLayerFeature","readFeature","_geoJsonToOpenLayerFeatures","exportGeometry","integrateGMap","reload","featureToGeoJson","featuresToGeoJson","geoJsonToFeature","geoJsonToFeatures","_findByCoordinate","vectorLayer","found","getFeaturesAtCoordinate","findByCoordinate","loadFeatures","data","$http","_load","serviceUrl","resultProjection","config","params","service","request","typeName","maxFeatures","outputFormat","format_options","srsname","bbox","join","method","url","success","status","supported","crsSupported","proj4","defs","projection","webMappingMeasurement","loaded","update","isLoadFlagSet","_eraseAll","clipee","clippers","clipeeGeoJson","clipper","clipperGeoJson","_erase","cliperGeoJson","_intersect","olFeature1","olFeature2","intersection","feature1","feature2","toMerge","targetElementId","openLayersProjection","olmap","autocomplete","places","Autocomplete","getElementById","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","lng","lat","googleMapProjection","centerPoint","country","run"],"mappings":"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"}