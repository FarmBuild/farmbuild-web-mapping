{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","webmappingValidator","webmappingConverter","webMappingSession","_load","farmData","loaded","load","_isDefined","undefined","_exportFarmData","toExport","_toFarmData","isDefined","session","webmapping","validator","toGeoJsons","info","find","exportFarmData","version","window","farmbuild","createFeature","geometry","type","copy","properties","farm","paddocks","forEach","val","push","features","toFarmData","geoJson","data","openlayersDraw","googlemapslayer","_init","targetElementId","layerSelectionElementId","farmGeometry","paddocksGeometry","isNew","_targetElementId","_layerSelectionElementId","_isNew","_map","setTarget","document","getElementById","proj4","defs","projection","ol","proj","get","code","_view","View","rotation","maxZoom","_paddocksSource","source","Vector","format","GeoJSON","readFeatures","dataProjection","featureProjection","_farmSource","_paddocksLayer","layer","style","Style","fill","Fill","color","stroke","Stroke","width","_farmLayer","Map","layers","target","view","interactions","interaction","defaults","altShiftDragRotate","dragPan","rotate","mouseWheelZoom","extend","DragPan","kinetic","controls","control","attributionOptions","collapsible","ZoomToExtent","extent","getExtent","ScaleLine","_size","getSize","map","_transform","latLng","sourceProjection","destinationProjection","transformed","transform","google","maps","LatLng","_exportGeometry","writeFeatures","getSource","getFeatures","e","JSON","stringify","_clear","clear","_integrateGMap","gmap","on","center","getCenter","getProjection","_projection","setCenter","setZoom","getZoom","onresize","event","trigger","ControlPosition","TOP_LEFT","_targetEl","parentNode","removeChild","centerNew","zoomNew","fitExtent","_getProjection","_center","coordinates","paddocksSource","init","exportGeometry","integrateGMap","paddocksLayer","farmLayer","isLoadFlagSet","isGeoJsons","geojsonhint","hint","length","_validate","validate","error","isArray","isPositiveNumber","isEmpty","Error","openLayers","autocomplete","places","Autocomplete","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","lng","lat","googleMapProjection","openLayerProjection","centerPoint","country","disableDefaultUI","keyboardShortcuts","draggable","disableDoubleClickZoom","scrollwheel","streetViewControl","mapTypeId","MapTypeId","SATELLITE","MERGE","REMOVE","CLIP","AREA","_merge","merged","featuresToMerge","_select","getArray","_removeFeatures","_layer","fromJson","turf","merge","_source","addFeature","Feature","geom","Polygon","_clip","clippee","clipper","erase","_clipAdd","clipped","featureToClip","layerFeatures","layerFeature","_clipped","writeFeature","removeFeature","item","_area","olFeatures","area","feature","_remove","featuresToRemove","_draw","_modify","_snap","_removeInteractions","getInteractions","addInteraction","selectedLayer","evt","activeLayer","value","modify","disable","draw","getFeaturesAtCoordinate","coordinate","enable","setEvents","_enable","setActive","_disable","selectedFeatures","remove","Select","addCondition","events","condition","shiftKeyOnly","Modify","Draw","Snap","clip","run","injector"],"mappings":"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"}