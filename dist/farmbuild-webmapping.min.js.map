{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","webMappingSession","_fromFarmData","farmData","info","farm","geometry","paddocks","_isDefined","forEach","val","push","type","features","undefined","_toFarmData","farmGeometry","data","createDefault","_load","loaded","load","hasOwnProperty","webMapping","update","_exportFarmData","toExport","webmapping","isDefined","exportFarmData","version","window","farmbuild","openlayersDraw","googlemapslayer","_init","targetElementId","layerSelectionElementId","paddocksGeometry","isNew","_targetElementId","_layerSelectionElementId","_isNew","_map","setTarget","_layerSelectionElement","document","getElementById","proj4","defs","projection","ol","proj","get","code","_view","View","rotation","maxZoom","_paddocksSource","source","Vector","format","GeoJSON","readFeatures","dataProjection","featureProjection","_farmSource","_paddocksLayer","layer","style","Style","fill","Fill","color","stroke","Stroke","width","_farmLayer","Map","layers","target","view","interactions","interaction","defaults","altShiftDragRotate","dragPan","rotate","mouseWheelZoom","extend","DragPan","kinetic","controls","control","attributionOptions","collapsible","ZoomToExtent","extent","getExtent","ScaleLine","_size","getSize","addEventListener","value","init","map","_transform","latLng","sourceProjection","destinationProjection","transformed","transform","google","maps","LatLng","_exportGeometry","writeFeatures","getSource","getFeatures","e","JSON","stringify","_clear","clear","_integrateGMap","gmap","on","center","getCenter","getProjection","_projection","setCenter","setZoom","getZoom","onresize","event","trigger","ControlPosition","TOP_LEFT","_targetEl","parentNode","removeChild","centerNew","zoomNew","fitExtent","_getProjection","_center","coordinates","paddocksSource","exportGeometry","integrateGMap","paddocksLayer","farmLayer","root","session","find","save","toSave","dateLastUpdated","Date","error","saveSection","section","loadSection","isLoadFlagSet","location","href","split","length","indexOf","openLayers","autocomplete","places","Autocomplete","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","lng","lat","googleMapProjection","openLayerProjection","centerPoint","country","disableDefaultUI","keyboardShortcuts","draggable","disableDoubleClickZoom","scrollwheel","streetViewControl","mapTypeId","MapTypeId","SATELLITE","_featureOverlay","_removeOverLay","setStyle","removeOverlay","_removeInteractions","getInteractions","addInteraction","_addOverlay","FeatureOverlay","image","Circle","radius","_draw","_modify","_select","_snap","selectedLayer","evt","activeLayer","getFeaturesAtCoordinate","coordinate","draw","disable","modify","enable","setEvents","_enable","setActive","_disable","selectedFeatures","remove","Select","Modify","Draw","Snap","run","injector"],"mappings":"AAAA,YAEAA,SAAQC,OAAO,wBAA0B,iBAAkB,uBAAwBC,QAAQ,aAAc,SAASC,SAAUC,YAAaC,KAAMC,mBAE3I,QAASC,eAAcC,UACnBH,KAAKI,KAAK,0DACV,IAAIC,MAAOF,SAASG,SAAUC,WAC9B,OAAKC,YAAWL,SAASG,WAAcE,WAAWL,SAASI,WAG3DZ,QAAQc,QAAQN,SAASI,SAAU,SAASG,KACxCH,SAASI,MACLC,KAAM,UACNN,SAAUI,IAAIJ,cAIlBD,MACIO,KAAM,oBACNC,WACID,KAAM,UACNN,SAAUD,QAGlBE,UACIK,KAAM,oBACNC,SAAUN,YAlBPO,OAsBf,QAASC,aAAYC,cACjBhB,KAAKI,KAAK,qDACV,IAA0BG,WAAfU,KAAKX,YAIhB,OAHAX,SAAQc,QAAQQ,KAAKV,SAAU,SAASG,KACpCH,SAASI,KAAKD,IAAIJ,YAEfU,aAGX,QAASE,eAAcf,UACnB,MAAOD,eAAcC,UAEzB,QAASgB,OAAMhB,UACX,GAAIiB,QAAStB,SAASuB,KAAKlB,SAC3B,OAAKK,YAAWY,SAGXA,OAAOE,eAAe,gBACvBF,OAAOG,WAAaL,cAAcf,UAClCiB,OAAStB,SAAS0B,OAAOJ,SAEtBA,QANIN,OAQf,QAASW,iBAAgBC,UACrB,MAAKA,UAGEX,YAAYW,UAFRZ,OApDf,GAAwCa,YAApCnB,WAAaT,YAAY6B,SAoE7B,OAjCA5B,MAAKI,KAAK,oGAqBVuB,YACIE,eAAgBJ,gBAChBJ,KAAMF,OAEVQ,WAAWG,QAAU,QACW,mBAArBC,QAAOC,UACdD,OAAOC,WACHL,WAAYA,YAGhBI,OAAOC,UAAUL,WAAaA,WAE3BA,aAKXhC,QAAQC,OAAO,wBAAwBC,QAAQ,aAAc,SAASE,YAAaC,KAAMiC,eAAgBC,iBAKrG,QAASC,OAAMC,gBAAiBC,wBAAyBrB,aAAcsB,kBACnE,GAAIC,MACC/B,YAAWQ,gBACZsB,kBACI1B,KAAM,oBACNC,aAEJG,cACIJ,KAAM,oBACNC,aAEJ0B,OAAQ,GAEZC,iBAAmBJ,gBACnBK,yBAA2BJ,wBAC3BK,OAASH,MACL/B,WAAWmC,OAASA,KAAKC,YACzBD,KAAKC,UAAU,MACfD,KAAO,KAEX,IAAIE,wBAAyBC,SAASC,eAAeV,wBACrDW,OAAMC,KAAK,YAAa,6DACxB,IAAIC,YAAaC,GAAGC,KAAKC,KACrBC,KAAM,aA0EV,OAxEAC,OAAQ,GAAIJ,IAAGK,MACXC,SAAU,EACVP,WAAYA,WACZQ,QAAS,KAEbC,gBAAkB,GAAIR,IAAGS,OAAOC,QAC5BhD,UAAU,GAAIsC,IAAGW,OAAOC,SAAUC,aAAa1B,kBAC3C2B,eAAgB,YAChBC,kBAAmB,gBAG3BC,YAAc,GAAIhB,IAAGS,OAAOC,QACxBhD,UAAU,GAAIsC,IAAGW,OAAOC,SAAUC,aAAahD,cAC3CiD,eAAgB,YAChBC,kBAAmB,gBAG3BE,eAAiB,GAAIjB,IAAGkB,MAAMR,QAC1BD,OAAQD,gBACRW,MAAO,GAAInB,IAAGmB,MAAMC,OAChBC,KAAM,GAAIrB,IAAGmB,MAAMG,MACfC,MAAO,6BAEXC,OAAQ,GAAIxB,IAAGmB,MAAMM,QACjBF,MAAO,UACPG,MAAO,QAInBC,WAAa,GAAI3B,IAAGkB,MAAMR,QACtBD,OAAQO,YACRG,MAAO,GAAInB,IAAGmB,MAAMC,OAChBC,KAAM,GAAIrB,IAAGmB,MAAMG,MACfC,MAAO,2BAEXC,OAAQ,GAAIxB,IAAGmB,MAAMM,QACjBF,MAAO,UACPG,MAAO,QAInBlC,KAAO,GAAIQ,IAAG4B,KACVC,QAAUZ,gBACVa,OAAQ7C,gBACR8C,KAAM3B,MACN4B,aAAchC,GAAGiC,YAAYC,UACzBC,oBAAoB,EACpBC,SAAS,EACTC,QAAQ,EACRC,gBAAgB,IACjBC,QAAS,GAAIvC,IAAGiC,YAAYO,SAC3BC,QAAS,SAEbC,SAAU1C,GAAG2C,QAAQT,UACjBU,oBACIC,aAAa,KAElBN,QAAS,GAAIvC,IAAG2C,QAAQG,cACvBC,OAAQ/B,YAAYgC,cACpB,GAAIhD,IAAG2C,QAAQM,cAEvBC,MAAQ1D,KAAK2D,UACbzD,uBAAuB0D,iBAAiB,SAAU,WAC9C,GAAI3C,OACiC,cAAjCf,uBAAuB2D,QACvB5C,OAASD,iBAEwB,SAAjCd,uBAAuB2D,QACvB5C,OAASO,aAEblC,eAAewE,KAAK7C,OAAQjB,SAG5B+D,IAAK/D,KACLuC,KAAM3B,OAGd,QAASoD,YAAWC,OAAQC,iBAAkBC,uBAC1C,GAAIC,aAAc5D,GAAGC,KAAK4D,UAAUJ,OAAQC,iBAAkBC,sBAC9D,OAAO,IAAIG,QAAOC,KAAKC,OAAOJ,YAAY,GAAIA,YAAY,IAE9D,QAAS5F,OAAMH,aAAcsB,kBACzB,MAAOH,OAAMK,iBAAkBC,yBAA0BzB,aAAcsB,kBAE3E,QAAS8E,mBACL,GAAyCnG,MAArC6C,OAAS,GAAIX,IAAGW,OAAgB,OACpC,KACI7C,KAAO6C,OAAOuD,cAAcjD,eAAekD,YAAYC,eACzD,MAAOC,IACT,MAAOC,MAAKC,UAAUzG,KAAM,KAAM,GAEtC,QAAS0G,UACLhE,gBAAgBiE,QAChBzD,YAAYyD,QAEhB,QAASC,gBAAeC,MACpBvE,MAAMwE,GAAG,gBAAiB,WACtB,GAAIC,QAAS7E,GAAGC,KAAK4D,UAAUzD,MAAM0E,YAAa/F,gBAAgBgG,gBAAiBC,YACnFL,MAAKM,UAAU,GAAInB,QAAOC,KAAKC,OAAOa,OAAO,GAAIA,OAAO,OAE5DzE,MAAMwE,GAAG,oBAAqB,WAC1BD,KAAKO,QAAQ9E,MAAM+E,aAEvBvG,OAAOwG,SAAW,WACd,GAAIP,QAASrB,WAAWpD,MAAM0E,YAAa/F,gBAAgBgG,gBAAiBC,YAC5ElB,QAAOC,KAAKsB,MAAMC,QAAQX,KAAM,UAChCA,KAAKM,UAAUJ,SAEftF,QACAoF,KAAKjC,SAASoB,OAAOC,KAAKwB,gBAAgBC,UAAUhI,KAAKiI,WACzDA,UAAUC,WAAWC,YAAYF,WACjCrF,MAAM6E,UAAUjF,GAAGC,KAAK4D,WAAY3B,SAAS0D,UAAU,GAAI1D,SAAS0D,UAAU,IAAMZ,YAAajG,gBAAgBgG,kBACjH3E,MAAM8E,QAAQhD,SAAS2D,UAEvBzF,MAAM0F,UAAU9E,YAAYgC,YAAaE,OAMjD,QAAS6C,kBACL,MAAOf,aAEX,QAASgB,SAAQC,aACb7F,MAAM6E,UAAUgB,aAChB7F,MAAM8E,QAAQ,IAElB,QAASjE,gBAAe9B,kBACpB,GAAIqB,iBAAkB,GAAIR,IAAGS,OAAOC,QAChChD,UAAU,GAAIsC,IAAGW,OAAOC,SAAUC,aAAa1B,kBAC3C2B,eAAgB,YAChBC,kBAAmB,eAG3B,OAAO,IAAIf,IAAGkB,MAAMR,QAChBD,OAAQD,gBACRW,MAAO,GAAInB,IAAGmB,MAAMC,OAChBC,KAAM,GAAIrB,IAAGmB,MAAMG,MACfC,MAAO,6BAEXC,OAAQ,GAAIxB,IAAGmB,MAAMM,QACjBF,MAAO,UACPG,MAAO,QAKvB,QAASC,YAAW9D,cAChB,GAAIqI,gBAAiB,GAAIlG,IAAGS,OAAOC,QAC/BhD,UAAU,GAAIsC,IAAGW,OAAOC,SAAUC,aAAahD,cAC3CiD,eAAgB,YAChBC,kBAAmB,eAG3B,OAAO,IAAIf,IAAGkB,MAAMR,QAChBD,OAAQyF,eACR/E,MAAO,GAAInB,IAAGmB,MAAMC,OAChBC,KAAM,GAAIrB,IAAGmB,MAAMG,MACfC,MAAO,6BAEXC,OAAQ,GAAIxB,IAAGmB,MAAMM,QACjBF,MAAO,UACPG,MAAO,QA/LvB,GAGGlC,MAAMyB,eAAgBU,WAAYuB,MAAO9C,MAAOI,gBAAiBQ,YAAa3B,iBAAkBC,yBAA0BC,OAHzH2C,UACA0D,WAAa,mBAAoB,mBACjCC,QAAS,GACwHJ,UAAY9F,SAASC,eAAe,SAAUoF,YAAc,YAAa3H,WAAaT,YAAY6B,SAiMvO,QACI6E,KAAMtE,MACNd,KAAMF,MACNmI,eAAgBlC,gBAChBQ,MAAOD,OACPK,OAAQmB,QACRI,cAAe1B,eACfK,cAAegB,eACfM,cAAepF,eACfqF,UAAW3E,cAMnBnF,QAAQC,OAAO,wBAAwBC,QAAQ,oBAAqB,SAASG,KAAMF,SAAUC,aAEzF,QAASsB,QACL,GAAIqI,MAAO5J,SAAS6J,QAAQC,MAC5B,OAAKpJ,YAAWkJ,MAGTA,KAAKnI,WAFDT,OAaf,QAAS+I,MAAKC,QACV,GAAI3J,UAAWL,SAAS6J,QAAQC,MAChC,OAAKpJ,YAAWL,WAIhBA,SAAS4J,gBAAkB,GAAIC,MAC/B7J,SAASoB,WAAauI,OACtBhK,SAAS6J,QAAQE,KAAK1J,UACf2J,YANH9J,MAAKiK,MAAM,+CApBnB,GAAIhK,sBAAwBO,WAAaT,YAAY6B,SA2CrD,OAnCA3B,mBAAkBiK,YAAc,SAASC,QAAS3D,OAC9C,GAAIpF,QAASC,MACb,OAAKb,YAAWY,SAIhBA,OAAO+I,SAAW3D,MACXqD,KAAKzI,UAJRpB,KAAKiK,MAAM,iEACJhK,oBAgBfA,kBAAkB4J,KAAOA,KACzB5J,kBAAkBmK,YAAc,SAASD,SACrC,GAAI/I,QAASC,MACb,OAAOD,QAASA,OAAO+I,SAAW,MAEtClK,kBAAkBoK,cAAgB,SAASC,UACvC,GAAIjJ,OAAO,CAIX,OAHIiJ,UAASC,KAAKC,MAAM,KAAKC,OAAS,GAAqD,IAAhDH,SAASC,KAAKC,MAAM,KAAK,GAAGE,QAAQ,UAC3ErJ,KAAqD,SAA9CiJ,SAASC,KAAKC,MAAM,KAAK,GAAGA,MAAM,KAAK,IAE3CnJ,MAEXpB,kBAAkB2J,KAAO,WACrB,MAAO9J,UAAS6J,QAAQC,QAErB3J,oBAKXN,QAAQC,OAAO,wBAAwBC,QAAQ,sBAAuB,SAASE,YAAaC,KAAM2K,WAAYzI,iBAI1G,QAASC,OAAMC,iBACX,GAAIwI,cAAe,GAAI3D,QAAOC,KAAK2D,OAAOC,aAAahI,SAASC,eAAeX,kBAC3E2I,sBAAuBC,iBAE3B/D,QAAOC,KAAKsB,MAAMyC,YAAYL,aAAc,gBAAiB,WACzDM,gBAAgBN,gBAGxB,QAASM,iBAAgBN,cACrB,GAAqChE,QAAjCuE,MAAQP,aAAaQ,UACpBD,OAAM7K,WAGXsG,OAASuE,MAAM7K,SAASgK,SACxBnB,QAAQvC,SAEZ,QAASD,YAAWC,OAAQC,iBAAkBC,uBAC1C,MAAO3D,IAAGC,KAAK4D,WAAYJ,OAAOyE,MAAOzE,OAAO0E,OAASzE,iBAAkBC,uBAE/E,QAASqC,SAAQvC,QACb,GAAI2E,qBAAsBrJ,gBAAgBgG,gBAAiBsD,oBAAsBb,WAAWzC,gBAAiBuD,YAAc9E,WAAWC,OAAQ4E,oBAAqBD,oBACnKZ,YAAW3C,OAAOyD,aAxBtB,GAAIT,kBACAU,QAAS,KAyBb,QACIjF,KAAMtE,SAMdxC,QAAQC,OAAO,wBAAwBC,QAAQ,kBAAmB,SAASE,YAAaC,MAEpF,QAASmC,OAAMC,iBACX,MAAO,IAAI6E,QAAOC,KAAKnC,IAAIjC,SAASC,eAAeX,kBAC/CuJ,kBAAkB,EAClBC,mBAAmB,EACnBC,WAAW,EACXC,wBAAwB,EACxBC,aAAa,EACbC,mBAAmB,EACnBC,UAAWhF,OAAOC,KAAKgF,UAAUC,YAGzC,QAASjD,kBACL,MAAOf,aAbX,GAAIA,aAAc,WAelB,QACI1B,KAAMtE,MACN+F,cAAegB,kBAMvBvJ,QAAQC,OAAO,wBAAwBC,QAAQ,iBAAkB,SAASE,YAAaC,MACnF,GAAIoM,iBAAiBjK,MAAQ,SAASyB,OAAQ8C,KAe1C,QAAS2F,kBACD7L,WAAW4L,mBACXA,gBAAgBE,SAAS,GAAInJ,IAAGmB,MAAMC,WACtCmC,IAAI6F,cAAcH,kBAG1B,QAASI,uBACL9F,IAAI+F,kBAAkB7E,QACtBlB,IAAIgG,eAAe,GAAIvJ,IAAGiC,YAAYO,SAClCC,QAAS,QAGjB,QAAS+G,aAAY/I,QACjB,MAAO,IAAIT,IAAGyJ,gBACV/L,SAAU+C,OAAO2D,cACjBjD,MAAO,GAAInB,IAAGmB,MAAMC,OAChBC,KAAM,GAAIrB,IAAGmB,MAAMG,MACfC,MAAO,6BAEXC,OAAQ,GAAIxB,IAAGmB,MAAMM,QACjBF,MAAO,UACPG,MAAO,IAEXgI,MAAO,GAAI1J,IAAGmB,MAAMwI,QAChBC,OAAQ,EACRvI,KAAM,GAAIrB,IAAGmB,MAAMG,MACfC,MAAO,gBAInBgC,IAAKA,MA5Cb,GAAwCsG,OAAOC,QAASC,QAASC,MAA7D3M,WAAaT,YAAY6B,UAA2CwL,cAAgBtK,SAASC,eAAe,SAChH2D,KAAIqB,GAAG,QAAS,SAASsF,KACrB,GAAIC,aAAcF,cAAc5G,KAC5B5C,QAAO2J,wBAAwBF,IAAIG,YAAY/C,OAAS,GACxDgD,KAAKC,UACLC,OAAOC,UACgB,SAAhBN,aAA0C,aAAhBA,aACjCK,OAAOD,UACPD,KAAKG,WAELD,OAAOD,UACPD,KAAKC,aAoCbrB,eAAe3F,KACf8F,oBAAoB9F,KACflG,WAAWoD,UACZA,OAAS,GAAIT,IAAGS,OAAOC,QACnBhD,eAGRuL,gBAAkBO,YAAY/I,OAC9B,IAAI+J,QAAS,WAKT,QAASxL,SACLuE,IAAIgG,eAAeQ,SACnBxG,IAAIgG,eAAeO,SACnBY,YAEJ,QAASC,WACLZ,QAAQa,WAAU,GAClBd,QAAQc,WAAU,GAEtB,QAASC,YACLd,QAAQa,WAAU,GAClBd,QAAQc,WAAU,GAEtB,QAASF,aACL,GAAII,kBAAmBf,QAAQ3F,aAC/B2F,SAAQnF,GAAG,gBAAiB,WACxBkG,iBAAiBxN,QAAQwN,iBAAiBC,OAAQD,oBAG1D,MAvBAf,SAAU,GAAI/J,IAAGiC,YAAY+I,OAC7BlB,QAAU,GAAI9J,IAAGiC,YAAYgJ,QACzBvN,SAAUqM,QAAQ3F,iBAsBlBd,KAAMtE,MACNyL,OAAQE,QACRJ,QAASM,aAGbP,KAAO,WAKP,QAAStL,SACLuE,IAAIgG,eAAeM,OACnBA,MAAMe,WAAU,GAEpB,QAASD,WACLd,MAAMe,WAAU,GAEpB,QAASC,YACLhB,MAAMe,WAAU,GAEpB,MAdAf,OAAQ,GAAI7J,IAAGiC,YAAYiJ,MACvBxN,SAAUuL,gBAAgB7E,cAC1B3G,KAAM,aAaN6F,KAAMtE,MACNyL,OAAQE,QACRJ,QAASM,YAGjBb,OAAQ,GAAIhK,IAAGiC,YAAYkJ,MACvBzN,SAAUuL,gBAAgB7E,gBAE9BoG,OAAOlH,OACPgH,KAAKhH,OACLC,IAAIgG,eAAeS,OACnBM,KAAKC,UACLC,OAAOD,UAEX,QACIjH,KAAMtE,SAMdxC,QAAQC,OAAO,wBAAwB2O,IAAI,SAAS5M,eAEpDhC,QAAQ6O,UAAW,KAAM"}