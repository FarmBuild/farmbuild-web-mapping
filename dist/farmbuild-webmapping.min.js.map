{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","validations","$log","geoJsonValidator","farmdataConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingPaddocks","webMappingOpenLayersHelper","webMappingGoogleAddressSearch","info","session","isDefined","webMapping","validator","toGeoJsons","actions","paddocks","olHelper","googleAddressSearch","load","find","save","geoJsons","farmData","toFarmData","export","create","version","window","farmbuild","webmapping","_create","map","farmSource","paddocksSource","_init","clipFn","selectInteraction","addInteraction","drawInteraction","setActive","on","e","feature","setProperties","name","Date","getTime","setTimeout","removeFeature","drawingStatus","event","interaction","getFeatures","clear","_enable","_disable","_finish","finishDrawing","_isDrawing","_discard","ol","Draw","source","type","init","enable","disable","isDrawing","finish","discard","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingTransformations","_destroy","_isDefined","_select","_modify","_snap","_draw","removeInteraction","undefined","_activeLayer","_activeLayerName","_mode","farmLayer","paddocksLayer","activeLayerName","multi","getSource","_clip","_addFeature","layer","addFeature","_clearSelections","_removeFeatures","features","deselect","forEach","featureToClip","paddockSource","_clipPaddocks","_clipDonut","_clipFarm","clipped","paddocksFeatures","farmFeatures","getProperties","transform","erase","intersect","donutFeature","paddockFeature","getFeaturesAtCoordinate","geometry","coordinates","turf","merge","_merge","_selectedFeatures","_enableEditing","_enableDrawing","_enableDonutDrawing","_finishDrawing","_discardDrawing","_isEditing","getLength","destroy","enableDrawing","enableEditing","enableDonutDrawing","clip","remove","selectedFeatures","isEditing","discardDrawing","select","modifyInteraction","Modify","selectConfig","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","Select","snapInteraction","Snap","_featuresToGeoJson","olFeatures","fromJson","getArray","_geoJSONFormat","writeFeatures","_area","geoJsonFeatures","area","format","_transform","latLng","sourceProjection","destinationProjection","transformed","proj","google","maps","LatLng","_exportGeometry","dataProjection","featureProjection","writeFeaturesObject","error","_clear","_integrateGMap","gmap","view","getView","targetElement","getTargetElement","googleProjection","center","getCenter","setCenter","setZoom","getZoom","onresize","trigger","defaults","centerNew","zoomNew","extent","getLayers","item","getExtent","Infinity","controls","ControlPosition","TOP_LEFT","push","parentNode","removeChild","fitExtent","getSize","_center","_paddocksLayer","paddocksGeometry","Vector","GeoJSON","readFeatures","style","Style","fill","Fill","color","stroke","Stroke","width","_farmLayer","farmGeometry","_reload","geoJson","dataProjectionCode","featureProjectionCode","addLayer","farm","exportGeometry","integrateGMap","reload","_findByCoordinate","coordinate","vectorLayer","found","length","findByCoordinate","supported","crsSupported","crs","proj4","defs","projection","loaded","update","isLoadFlagSet","document","_openLayerFeatureToGeoJson","olFeature","writeFeatureObject","_openLayerFeaturesToGeoJson","_geoJsonToOpenLayerFeature","properties","geom","Feature","_erase","layerFeature","clipper","_intersect","toMerge","targetElementId","openLayersProjection","olmap","autocomplete","places","Autocomplete","getElementById","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","lng","lat","googleMapProjection","centerPoint","country","run","injector"],"mappings":"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"}